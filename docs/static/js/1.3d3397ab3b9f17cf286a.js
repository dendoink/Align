webpackJsonp([1],{AZ6J:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("hr"),s._v(" "),a("h2",{attrs:{id:"name%3A-%222018-05-20-vuepress%22title%3A-%22how-to-create-your-own-theme-for-vuepress%22layout%3A-postdate%3A-2018-05-20categories%3A-vuetags%3A-%5Bvue%2Cvuepress%2Ctutorial%2Cgit%5Dcoverimg%3A-%22http%3A%2F%2Fww1.sinaimg.cn%2Flarge%2F88b26e1cgy1frpq5olvaqj20sg0lc126.jpg%22info%3A-%22%E5%A6%82%E6%9E%9C%E5%AF%B9vuepress%E8%87%AA%E5%B8%A6%E7%9A%84%E4%B8%BB%E9%A2%98%E4%B8%8D%E6%BB%A1%E6%84%8F%EF%BC%8C%E5%A6%82%E4%BD%95%E8%87%AA%E5%B7%B1%E6%9D%A5%E5%AE%9A%E5%88%B6%E4%B8%80%E4%B8%AA%E4%B8%BB%E9%A2%98%E5%91%A2%EF%BC%9F%22"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#name%3A-%222018-05-20-vuepress%22title%3A-%22how-to-create-your-own-theme-for-vuepress%22layout%3A-postdate%3A-2018-05-20categories%3A-vuetags%3A-%5Bvue%2Cvuepress%2Ctutorial%2Cgit%5Dcoverimg%3A-%22http%3A%2F%2Fww1.sinaimg.cn%2Flarge%2F88b26e1cgy1frpq5olvaqj20sg0lc126.jpg%22info%3A-%22%E5%A6%82%E6%9E%9C%E5%AF%B9vuepress%E8%87%AA%E5%B8%A6%E7%9A%84%E4%B8%BB%E9%A2%98%E4%B8%8D%E6%BB%A1%E6%84%8F%EF%BC%8C%E5%A6%82%E4%BD%95%E8%87%AA%E5%B7%B1%E6%9D%A5%E5%AE%9A%E5%88%B6%E4%B8%80%E4%B8%AA%E4%B8%BB%E9%A2%98%E5%91%A2%EF%BC%9F%22","aria-hidden":"true"}},[s._v("#")]),s._v(' name: "2018-05-20-Vuepress"\ntitle: "How to create your own Theme for Vuepress"\nlayout: post\ndate:   2018-05-20\ncategories: Vue\ntags: [Vue,Vuepress,Tutorial,Git]\ncoverimg: "http://ww1.sinaimg.cn/large/88b26e1cgy1frpq5olvaqj20sg0lc126.jpg"\ninfo: "如果对Vuepress自带的主题不满意，如何自己来定制一个主题呢？"')]),s._v(" "),a("h1",{attrs:{id:"license"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#license","aria-hidden":"true"}},[s._v("#")]),s._v(" License")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.shields.io/badge/license-MIT-blue.svg",alt:"GitHub license"}})]),s._v(" "),a("h1",{attrs:{id:"%E5%AF%BC%E8%88%AA"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E5%AF%BC%E8%88%AA","aria-hidden":"true"}},[s._v("#")]),s._v(" 导航")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#license"}},[s._v("License")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%AF%BC%E8%88%AA"}},[s._v("导航")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#vuepress%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"}},[s._v("Vuepress项目结构")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%B5%81%E7%A8%8B%E5%8F%8Avuepress%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB"}},[s._v("流程及VuePress源码解读")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80"}},[s._v("仓库地址")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#configjs-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"}},[s._v("[config.js] 配置文件说明")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#configjs%E6%89%80%E5%9C%A8%E7%9A%84%E7%9B%AE%E5%BD%95"}},[s._v("[config.js]所在的目录")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#configjs-%E4%B8%AD%E7%9A%84%E5%9D%91"}},[s._v("[config.js] 中的坑")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E6%88%91%E4%BB%AC%E4%BC%A0%E5%85%A5%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88"}},[s._v("我们传入的是什么?")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E4%BC%A0%E5%85%A5%E7%9A%84%E5%80%BC%E7%BB%8F%E8%BF%87%E4%BA%86%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84%E5%A4%84%E7%90%86"}},[s._v("传入的值经过了怎么样的处理?")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%88%91%E4%BB%AC%E6%89%80%E6%8B%BF%E5%88%B0%E7%9A%84%E5%80%BC%E6%98%AF%E4%BB%80%E4%B9%88"}},[s._v("我们所拿到的值是什么?")])])])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E6%88%91%E4%BB%AC%E8%87%AA%E5%B7%B1%E7%9A%84%E6%B5%81%E7%A8%8B"}},[s._v("如何定义我们自己的流程")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#packagejson%E9%87%8C%E9%9D%A2%E5%85%B3%E4%BA%8Escript%E7%9A%84%E9%85%8D%E7%BD%AE"}},[a("code",[s._v("package.json")]),s._v("里面关于"),a("code",[s._v("script")]),s._v("的配置")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#doc%E7%94%A8%E6%9D%A5%E5%B9%B2%E5%98%9B%E5%91%A2%E4%BD%A0%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%9C%89%E8%BF%99%E6%A0%B7%E7%9A%84%E9%97%AE%E9%A2%98"}},[a("code",[s._v("doc")]),s._v("用来干嘛呢?你可能会有这样的问题")])])])])])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E7%BB%93%E8%AF%AD"}},[s._v("结语")])])]),s._v(" "),a("h1",{attrs:{id:"vuepress%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuepress%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84","aria-hidden":"true"}},[s._v("#")]),s._v(" Vuepress项目结构")]),s._v(" "),a("pre",{staticClass:"hljs"},[a("code",[s._v("\n├── bin      \t\t构建脚本,配置了整个项目在运行过程中会执行的脚本 \n├── docs     \t\t主题配置和md文档存放的位置\n├── lib       \t有关主题的配置工具类,以及webpack的配置等等\n├── node_modules  外部库存放目录\n├── "),a("span",{staticClass:"hljs-built_in"},[s._v("test")]),s._v("\t\t\t\n├── .eslintrc.js\n├── .gitignore   \t\n├── package.json \t启动入口和依赖包安装指南\n├── README.md  \t说明文件\n└── "),a("span",{staticClass:"hljs-built_in"},[s._v("test")]),s._v("\n")])]),s._v(" "),a("h1",{attrs:{id:"%E6%B5%81%E7%A8%8B%E5%8F%8Avuepress%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E6%B5%81%E7%A8%8B%E5%8F%8Avuepress%E6%BA%90%E7%A0%81%E8%A7%A3%E8%AF%BB","aria-hidden":"true"}},[s._v("#")]),s._v(" 流程及VuePress源码解读")]),s._v(" "),a("h2",{attrs:{id:"%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80","aria-hidden":"true"}},[s._v("#")]),s._v(" 仓库地址")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/vuejs/vuepress"}},[s._v("VuePress的项目地址")])]),s._v(" "),a("h2",{attrs:{id:"%5Bconfig.js%5D-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%5Bconfig.js%5D-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%B4%E6%98%8E","aria-hidden":"true"}},[s._v("#")]),s._v(" [config.js] 配置文件说明")]),s._v(" "),a("h3",{attrs:{id:"%5Bconfig.js%5D%E6%89%80%E5%9C%A8%E7%9A%84%E7%9B%AE%E5%BD%95"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%5Bconfig.js%5D%E6%89%80%E5%9C%A8%E7%9A%84%E7%9B%AE%E5%BD%95","aria-hidden":"true"}},[s._v("#")]),s._v(" [config.js]所在的目录")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr7ewej00nj20fr0ij75u.jpg",alt:""}})]),s._v(" "),a("p",[s._v("这个文件初看觉得很杂,什么样的配置都有,但是我们从本质出发,这个文件是为了做什么而定义的呢?")]),s._v(" "),a("p",[s._v("答案很简单,这个文件里面存放都是整个项目在构建过程中,你所定义的组件(或者自带的组件)要用到的相关配置信息,就像他的名字config.js一样,他只是一个配置文件.")]),s._v(" "),a("p",[s._v("那它是怎么用的呢? 举个例子:")]),s._v(" "),a("p",[s._v("比如我们在整个文件中,配置了一个[locales]对象:")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr7ewl6vgij20tk04mjrx.jpg",alt:""}})]),s._v(" "),a("p",[s._v("那么它在项目中使用的方式就是:")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr7ews8avbj20vv0pr0z4.jpg",alt:""}})]),s._v(" "),a("p",[s._v("在我们理解了这一点之后,整个文件变得很简单,我们不用关心这个字段的名字是什么,它所对应的又是什么,它只是我们在项目中会用到的一个变量的定义而已.")]),s._v(" "),a("h3",{attrs:{id:"%5Bconfig.js%5D-%E4%B8%AD%E7%9A%84%E5%9D%91"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%5Bconfig.js%5D-%E4%B8%AD%E7%9A%84%E5%9D%91","aria-hidden":"true"}},[s._v("#")]),s._v(" [config.js] 中的坑")]),s._v(" "),a("p",[s._v("其实在"),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/default-theme-config/"}},[s._v("VuePress官网")]),s._v(" 已经有关于config.js里面你可以定制的项目,那这些配置的项目是如何生效的呢?")]),s._v(" "),a("p",[s._v("我们可以看一下"),a("code",[s._v("lib/dev.js")]),s._v(":")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr7ewxtussj209q0het9v.jpg",alt:""}})]),s._v(" "),a("p",[s._v("可以看到这样一段代码:")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr7ex4mraoj20r804rdgl.jpg",alt:""}})]),s._v(" "),a("p",[s._v("我们要明白这段代码的含义,要知道三点:")]),s._v(" "),a("h4",{attrs:{id:"%E6%88%91%E4%BB%AC%E4%BC%A0%E5%85%A5%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88%3F"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E6%88%91%E4%BB%AC%E4%BC%A0%E5%85%A5%E7%9A%84%E6%98%AF%E4%BB%80%E4%B9%88%3F","aria-hidden":"true"}},[s._v("#")]),s._v(" 我们传入的是什么?")]),s._v(" "),a("p",[s._v("要知道这里传入的"),a("code",[s._v("options.siteConfig.configureWebpack")]),s._v("这个值的含义,首先要知道option的来源:")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("dev.js")]),s._v("dev.js中它的定义是:")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr7exb4nebj214g02lgm5.jpg",alt:""}})]),s._v(" "),a("p",[s._v("我们传入的资源路径"),a("code",[s._v("sourceDir")]),s._v("被"),a("code",[s._v("prepare")]),s._v("方法加工后得到了"),a("code",[s._v("option")]),s._v(",我们再看下"),a("code",[s._v("prepare")]),s._v("方法的定义:")]),s._v(" "),a("p",[s._v("位于"),a("code",[s._v("lib/prepare.js")]),s._v("路径下")]),s._v(" "),a("pre",{staticClass:"hljs"},[a("code",[s._v("\t"),a("span",{staticClass:"hljs-built_in"},[s._v("module")]),s._v(".exports = "),a("span",{staticClass:"hljs-keyword"},[s._v("async")]),s._v(" "),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),a("span",{staticClass:"hljs-title"},[s._v("prepare")]),s._v(" ("),a("span",{staticClass:"hljs-params"},[s._v("sourceDir")]),s._v(") ")]),s._v("{\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// 1. load options")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" options = "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" resolveOptions(sourceDir)\n\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// 2. generate routes & user components registration code")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" routesCode = "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" genRoutesFile(options)\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" componentCode = "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" genComponentRegistrationFile(options)\n\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" writeTemp("),a("span",{staticClass:"hljs-string"},[s._v("'routes.js'")]),s._v(", [\n    componentCode,\n    routesCode\n  ].join("),a("span",{staticClass:"hljs-string"},[s._v("'\\n\\n'")]),s._v("))\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// 3. generate siteData")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" dataCode = "),a("span",{staticClass:"hljs-string"},[s._v("`export const siteData = "),a("span",{staticClass:"hljs-subst"},[s._v("${"),a("span",{staticClass:"hljs-built_in"},[s._v("JSON")]),s._v(".stringify(options.siteData, "),a("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v(", "),a("span",{staticClass:"hljs-number"},[s._v("2")]),s._v(")}")]),s._v("`")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" writeTemp("),a("span",{staticClass:"hljs-string"},[s._v("'siteData.js'")]),s._v(", dataCode)\n\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// 4. generate basic polyfill if need to support older browsers")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" polyfillCode = "),a("span",{staticClass:"hljs-string"},[s._v("``")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (!options.siteConfig.evergreen) {\n    polyfillCode =\n"),a("span",{staticClass:"hljs-string"},[s._v("`import 'es6-promise/auto'\nif (!Object.assign) Object.assign = require('object-assign')`")]),s._v("\n  }\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" writeTemp("),a("span",{staticClass:"hljs-string"},[s._v("'polyfill.js'")]),s._v(", polyfillCode)\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// 5. handle user override")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" overridePath = path.resolve(sourceDir, "),a("span",{staticClass:"hljs-string"},[s._v("'.vuepress/override.styl'")]),s._v(")\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" hasUserOverride = options.useDefaultTheme && fs.existsSync(overridePath)\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" writeTemp("),a("span",{staticClass:"hljs-string"},[s._v("`override.styl`")]),s._v(", hasUserOverride ? "),a("span",{staticClass:"hljs-string"},[s._v("`@import("),a("span",{staticClass:"hljs-subst"},[s._v("${"),a("span",{staticClass:"hljs-built_in"},[s._v("JSON")]),s._v(".stringify(overridePath)}")]),s._v(")`")]),s._v(" : "),a("span",{staticClass:"hljs-string"},[s._v("``")]),s._v(")\n\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// 6. handle enhanceApp.js")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" enhanceAppPath = path.resolve(sourceDir, "),a("span",{staticClass:"hljs-string"},[s._v("'.vuepress/enhanceApp.js'")]),s._v(")\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" writeEnhanceTemp("),a("span",{staticClass:"hljs-string"},[s._v("'enhanceApp.js'")]),s._v(", enhanceAppPath)\n\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// 7. handle the theme enhanceApp.js")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" writeEnhanceTemp("),a("span",{staticClass:"hljs-string"},[s._v("'themeEnhanceApp.js'")]),s._v(", options.themeEnhanceAppPath)\n\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("return")]),s._v(" options\n}\n")])]),s._v(" "),a("p",[s._v("其实这个方法,对于我们有定制主题需求的人来说,是很重要的,这个方法读取了我们传入的"),a("code",[s._v("SourceDir")]),s._v("下的多个配置文件.")]),s._v(" "),a("p",[s._v("并且根据将我们的不同配置分别写入到不同的文件中.最后把这些配置综合到"),a("code",[s._v("option")]),s._v("这个对象里面,返回到webpack的覆盖方法.")]),s._v(" "),a("h4",{attrs:{id:"%E4%BC%A0%E5%85%A5%E7%9A%84%E5%80%BC%E7%BB%8F%E8%BF%87%E4%BA%86%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84%E5%A4%84%E7%90%86%3F"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E4%BC%A0%E5%85%A5%E7%9A%84%E5%80%BC%E7%BB%8F%E8%BF%87%E4%BA%86%E6%80%8E%E4%B9%88%E6%A0%B7%E7%9A%84%E5%A4%84%E7%90%86%3F","aria-hidden":"true"}},[s._v("#")]),s._v(" 传入的值经过了怎么样的处理?")]),s._v(" "),a("p",[s._v("这个"),a("code",[s._v("applyUserWebpackConfig")]),s._v("方法看名字其实我们就已经明白了是什么含义.但是我们仍旧可以看一下他的定义[位于 "),a("code",[s._v("./util/index,.js")]),s._v("]中.")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr7exhxxdmj20rc0aw0ui.jpg",alt:""}})]),s._v(" "),a("p",[s._v("这个方法用来把我们传入的配置与原有的webpack配置合并了.也就是说,我们可以在这里覆盖原有的配置.")]),s._v(" "),a("h4",{attrs:{id:"%E6%88%91%E4%BB%AC%E6%89%80%E6%8B%BF%E5%88%B0%E7%9A%84%E5%80%BC%E6%98%AF%E4%BB%80%E4%B9%88%3F"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E6%88%91%E4%BB%AC%E6%89%80%E6%8B%BF%E5%88%B0%E7%9A%84%E5%80%BC%E6%98%AF%E4%BB%80%E4%B9%88%3F","aria-hidden":"true"}},[s._v("#")]),s._v(" 我们所拿到的值是什么?")]),s._v(" "),a("p",[s._v("在这里,我们所拿到的"),a("code",[s._v("options.siteConfig.configureWebpack")]),s._v("实际上是我们在"),a("code",[s._v("config.js")]),s._v("里面配置的"),a("code",[s._v("configureWebpack")]),s._v("这个属性,例如:")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr7exq1uvwj20mq0fcmz7.jpg",alt:""}})]),s._v(" "),a("p",[s._v("那这样配置之后,webpack在打包我们整个的项目的过程中,就会根据我们自定义的配置来打包.")]),s._v(" "),a("p",[s._v("举个例子:根据我们上图的配置,在项目中写的"),a("code",[s._v("@pub")]),s._v("这样的字符,webpack在打包时会自动到"),a("code",[s._v("./public")]),s._v("路径下去找对应的文件.")]),s._v(" "),a("p",[s._v("所以现在你在markdown文件中可以这样写:")]),s._v(" "),a("pre",{staticClass:"hljs"},[a("code",[s._v("  ![我的头像](@pub/\bface.jpg)\n")])]),s._v(" "),a("p",[s._v("而这段代码会被正确解析为")]),s._v(" "),a("pre",{staticClass:"hljs"},[a("code",[s._v("  ![我的头像](~"),a("span",{staticClass:"hljs-regexp"},[s._v("/public/")]),s._v("\bface.jpg)\n")])]),s._v(" "),a("p",[s._v("而它的实际目录其实是:")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr8pzgn8h7j208g06zq3b.jpg",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E6%88%91%E4%BB%AC%E8%87%AA%E5%B7%B1%E7%9A%84%E6%B5%81%E7%A8%8B"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E6%88%91%E4%BB%AC%E8%87%AA%E5%B7%B1%E7%9A%84%E6%B5%81%E7%A8%8B","aria-hidden":"true"}},[s._v("#")]),s._v(" 如何定义我们自己的流程")]),s._v(" "),a("p",[s._v("在打开整个项目的时候,整个网站的布局和交互细节实际上是在一个名为"),a("code",[s._v("doc")]),s._v("的目录下.")]),s._v(" "),a("p",[s._v("自定义,意味着额外新建一个目录来存放我们的自定义文件,以及我们的"),a("code",[s._v("config.js")]),s._v(".把我们的配置文件和我们的markdown源文件分开存放.")]),s._v(" "),a("p",[s._v("怎么样实现呢?如果直接新建一个"),a("code",[s._v("src")]),s._v("文件夹,然后直接剪切"),a("code",[s._v("doc")]),s._v("下的"),a("code",[s._v(".vuepress")]),s._v("文件夹到"),a("code",[s._v("src")]),s._v("目录下,重新打包编译整个项目.")]),s._v(" "),a("p",[s._v("我们会发现原有的组件样式失效了.而"),a("code",[s._v("config.js")]),s._v("里面的配置也都失效了.")]),s._v(" "),a("p",[s._v("其实这里很简单,只需要我们对package.json进行一些修改:")]),s._v(" "),a("h3",{attrs:{id:"package.json%E9%87%8C%E9%9D%A2%E5%85%B3%E4%BA%8Escript%E7%9A%84%E9%85%8D%E7%BD%AE"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#package.json%E9%87%8C%E9%9D%A2%E5%85%B3%E4%BA%8Escript%E7%9A%84%E9%85%8D%E7%BD%AE","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("package.json")]),s._v("里面关于"),a("code",[s._v("script")]),s._v("的配置")]),s._v(" "),a("pre",{staticClass:"hljs"},[a("code",[s._v("\t"),a("span",{staticClass:"hljs-string"},[s._v('"scripts"')]),s._v(": {\n    "),a("span",{staticClass:"hljs-attr"},[s._v('"dev"')]),s._v(": "),a("span",{staticClass:"hljs-string"},[s._v('"node bin/vuepress dev doc"')]),s._v(",\n    "),a("span",{staticClass:"hljs-attr"},[s._v('"build"')]),s._v(": "),a("span",{staticClass:"hljs-string"},[s._v('"node bin/vuepress build doc"')]),s._v(",\n    "),a("span",{staticClass:"hljs-attr"},[s._v('"lint"')]),s._v(": "),a("span",{staticClass:"hljs-string"},[s._v('"eslint bin lib test"')]),s._v(",\n    "),a("span",{staticClass:"hljs-attr"},[s._v('"start"')]),s._v(": "),a("span",{staticClass:"hljs-string"},[s._v('"yarn dev && start http://localhost:8080"')]),s._v("\n  }\n")])]),s._v(" "),a("p",[s._v("这个配置的意思也就是说,我们在终端里输入指令")]),s._v(" "),a("pre",{staticClass:"hljs"},[a("code",[s._v("\tnpm run dev\n")])]),s._v(" "),a("p",[s._v("终端会将其转换为")]),s._v(" "),a("pre",{pre:!0,attrs:{class:"hljs"}},[a("code",[s._v("\tnode bin/vuepress dev doc\n")])]),s._v(" "),a("p",[s._v("简单的替换,很好理解,但是这个指令代表的是什么意思呢?")]),s._v(" "),a("p",[s._v("在这里nodeJs会做这样一件事,进入到"),a("code",[s._v("bin")]),s._v("目录下执行名字为"),a("code",[s._v("vuepress")]),s._v("的这个文件.那我们继续深究一下,这个"),a("code",[s._v("vuepress")]),s._v("文件又做了什么呢?")]),s._v(" "),a("p",[s._v("因为这个文件很长,所以我们截取一些重要的片段来看")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr8ykffqc0j20sj092wgl.jpg",alt:""}})]),s._v(" "),a("p",[s._v("箭头这里执行了一个指令"),a("code",[s._v("dev [targetDir]")]),s._v("而我们在package.json传入的就是"),a("code",[s._v("dev doc")]),s._v("所以这里实际上我们传入的"),a("code",[s._v("doc")]),s._v("就是目标文件夹.")]),s._v(" "),a("p",[s._v("所以合起来就是,执行"),a("code",[s._v("~/lib/dev.js")]),s._v("并且传入的参数是"),a("code",[s._v("doc")]),s._v(",那我们继续走到"),a("code",[s._v("dev.js")]),s._v("里面,看看"),a("code",[s._v("dev.js")]),s._v("里面用我们传入的参数做了什么:")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr8ykuywxij20ud0k0wl4.jpg",alt:""}})]),s._v(" "),a("p",[s._v("我们得到两个关键信息:")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("dev.js")]),s._v("接收参数并且作为"),a("code",[s._v("sourceDir")])]),s._v(" "),a("li",[a("code",[s._v("sourceDir")]),s._v(" 被对应的"),a("code",[s._v("prepare")]),s._v("解析为"),a("code",[s._v("option")]),s._v("对象,并且这个"),a("code",[s._v("option")]),s._v("对象被用来配置我们的整个站点(如下图)")])]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr8yl0aia9j20ww08wac1.jpg",alt:""}})]),s._v(" "),a("p",[s._v("这也是为什么我们在"),a("code",[s._v(".vuepress")]),s._v("在官方API规定的文件中配置不同的信息,就能让我们的网站得到不同的效果的原因.")]),s._v(" "),a("h3",{attrs:{id:"doc%E7%94%A8%E6%9D%A5%E5%B9%B2%E5%98%9B%E5%91%A2%3F%E4%BD%A0%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%9C%89%E8%BF%99%E6%A0%B7%E7%9A%84%E9%97%AE%E9%A2%98"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#doc%E7%94%A8%E6%9D%A5%E5%B9%B2%E5%98%9B%E5%91%A2%3F%E4%BD%A0%E5%8F%AF%E8%83%BD%E4%BC%9A%E6%9C%89%E8%BF%99%E6%A0%B7%E7%9A%84%E9%97%AE%E9%A2%98","aria-hidden":"true"}},[s._v("#")]),s._v(" "),a("code",[s._v("doc")]),s._v("用来干嘛呢?你可能会有这样的问题")]),s._v(" "),a("p",[a("code",[s._v("doc")]),s._v("将作为渲染前的markdown文档存放的目录,这项配置同样可以在"),a("code",[s._v("config.js")]),s._v("中找到:")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://ww1.sinaimg.cn/large/88b26e1cgy1fr8ytbl23sj20si07et9z.jpg",alt:""}})]),s._v(" "),a("h1",{attrs:{id:"%E7%BB%93%E8%AF%AD"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#%E7%BB%93%E8%AF%AD","aria-hidden":"true"}},[s._v("#")]),s._v(" 结语")]),s._v(" "),a("p",[s._v("其实这篇教程\b没有涉及关于如何编写一个vuepress主题的内容,\b但是通过这样的配置,你已经可以自由发挥来设计你自己的主题了.如果对于这些有任何疑问,欢迎邮件交流~")])])}]},v=a("VU/8")(null,e,!1,null,null,null);t.default=v.exports}});
//# sourceMappingURL=1.3d3397ab3b9f17cf286a.js.map